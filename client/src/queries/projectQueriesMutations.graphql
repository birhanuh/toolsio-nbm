

fragment ProjectsPageProject on Project {
  id
  name 
  deadline
  status
  progress
  description
  customer {
    id
    name
  }
}

query GET_PROJECTS_QUERY {
  getProjects {
    ...ProjectsPageProject      
    user {
      firstName
    }
  }
}

query GET_PROJECT_QUERY($id: Int!) {
  getProject(id: $id) {
    ...ProjectsPageProject
    tasks {
      id
      name
      hours
      paymentType
      price
      vat
      projectId
    }
    user {
      firstName
    }
  }
}

query GET_CUSTOMERS_PROJECTS_QUERY {
  getCustomers {
    id
    name
  }
  getProjects {
    ...ProjectsPageProject
  }
}

mutation CREATE_PROJECT_MUTATION($name: String!, $deadline: Date!, $status: String!, $progress: Int, $description: String, $customerId: Int!) {
  createProject(name: $name, deadline: $deadline, status: $status, progress: $progress, description: $description, customerId: $customerId) {
    success
    ...ProjectsPageProject
    errors {
      path
      message
    }
  }
}

mutation UPDATE_PROJECT_MUTATION($id: Int!, $status: String, $progress: Int) {
  updateProject(id: $id, status: $status, progress: $progress) {
    success
    ...ProjectsPageProject
    errors {
      path
      message
    }
  }
}

mutation DELETE_PROJECT_MUTATION($id: Int!) {
  deleteProject(id: $id) {
    success
    errors {
      path
      message
    }
  }
}

